---
date:
title:     "Вакидзаси"
excerpt:   "Самая подробная статья про мою аккордовую клавиатуру."
permalink: wakizashi
layout:    ru
published: false
---
# Вакидзаси

![](/data/img/wakizashi.jpg)

Буквально все последние статьи на этом сайте про вакидзаси, мою аккордовую
клавиатуру. Некоторым читателям это не нравится. Ну и ладно.

## Введение

Стандартные клавиатуры — сборник пережитков прошлого. Начиная от сдвигов рядов и
неэффективных раскладок, заканчивая абсурдным расположением многих клавиш (вот
где кнопка `Ctrl` (часто нужная клавиша в неудобном месте) и где кнопка `Caps
Lock` (ненужная кнопка в очень удобном месте)).

Люди, которые не хотят мириться с недостатками стандартной раскладки,
устанавливают себе альтернативные раскладки. Люди, которые не хотят мириться и с
клавиатурами, покупают или собирают себе *эргономичные* клавиатуры.

Клавиатурой, которая толкнула меня на путь клавиатурщика, была Кошкоклава. На
хабре есть [хорошая статья](https://habr.com/ru/post/185500/) от автора
клавиатуры. Там есть про эргоклавы в целом много всякого.

![](https://habrastorage.org/getpro/habr/post_images/e3e/097/f9c/e3e097f9c927dd888bd4b29db38e7b86.jpg)

После прочтения этой статьи (это было давно) я загорелся идеей когда-нибудь
сделать свою самую эргономичную, самую классную клавиатуру. Дело отложилось на
года.

В январе мне придумалась клавиатура всего с 11 кнопками, способная работать как
большая, взрослая клавиатура. Я назвал её вакидзаси, по аналогии со
вспомогательными мечами самураев.

![Меч
вакидзаси](https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Antique_Japanese_%28samurai%29_wakizashi.JPG/800px-Antique_Japanese_%28samurai%29_wakizashi.JPG)

Сначала в голове была мысль держать её как вспомогательную, но в итоге она стала
позиционироваться как полноценная.

Так в чём же соль, чем сильна вакидзаси?

## Соль

А соль в аккордах. Чтобы написать символ, нужно нажать не одну клавишу (плюс
какие-нибудь модификаторы), а несколько клавиш. Программа смотрит, какие клавиши
были нажаты, и отправляет в компьютер сканкод обычной клавиатуры. Компьютер и не
знает, что к нему подключено что-то хитрое.

Поскольку все клавиши под пальцами, не надо двигать рукой. В этом эргономичная
составляющая вакидзаси.

Поскольку кнопок мало, собрать клавиатуру проще. Отличный старт в мире
самодельных клавиатур. Про сборку клавиатуры я написал [статью с
картинками](/wakizashi-build).

## Аккорды

Под каждый фингер (термин, обозначающий все пальцы руки, кроме большого, а также
кнопки под такие пальцы) отводится по две кнопки. На самом деле, палец без
проблем может нажимать сразу две клавиши. Под тамб (термин, обозначающий большой
палец руки и кнопки под него) же отведено целых три клавиши. Я решил, что две
слишком мало, а четыре многовато.

Есть пять доступных комбинация тамбов, то есть доступных аккордов `2^8 * (5 +
1) = 1536`. Это больше, чем на стандартной клавиатуре! Также есть два слоя
раскладки (латиница и кириллица), что увеличивает количество аккордов вдвое!

Итого: **3072 аккордов** с одной руки.

Мощь безграничная.

Вот такую смысловую нагрузку я дал тамбам:

![](/data/img/wakizashi-thumbs.png)

Эти названия не эквивалентны тому, что есть на обычных клавиатурах. Это просто
мнемоника, которая показывает, что:

1. Аккорды с левым тамбом включают в себя большие буквы, но не всегда так.
2. Аккорды с центральным тамбом включают в себя символы, но не всегда так.
3. Аккорды с правым тамбом включают в себя функциональные клавиши, такие как
   `Page Up`, `Home`, etc.
4. Аккорды с левым и центральным тамбом работают как аккорды с просто левым
   тамбом, но также отправляется нажатие кнопки `Ctrl`.
5. Аккорды с центральным и правым тамбом отправляют не одни символы, а целые
   слова или их кусочки.

## Прошивка

Многие любители клавиатурных дел берут за основу прошивки чудный фреймворк
[QMK](https://qmk.fm), но я посчитал его излишним, и написал всё почти с нуля,
взяв за основу библиотеки Ардуино. Ну, написал, работает хорошо. Та часть
прошивки, которая про раскладку, генерируется автоматически по описанию.

Про генерацию раскладки можно прочитать подробнее в [другой моей
статье](/wakizashi-config).

Исходный код вакидзаси можно прочитать в [репозитории
bouncepaw/wakizashi](https://github.com/bouncepaw/wakizashi).

## to be done
